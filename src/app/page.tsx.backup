'use client';
import React, { useState, useCallback } from 'react';
import Image from 'next/image';

export default function Home() {
  const [selectedSport, setSelectedSport] = useState(null);
  const [imageErrors, setImageErrors] = useState(new Set());

  const handleImageError = useCallback((productId) => {
    setImageErrors(prev => new Set([...prev, productId]));
  }, []);

  const sports = [
    { name: 'F√öTBOL', icon: '‚öΩ' },
    { name: 'B√ÅSQUETBOL', icon: 'üèÄ' },
    { name: 'VOLEIBOL', icon: 'üèê' },
    { name: 'RUGBY', icon: 'üèâ' },
    { name: 'GOLF', icon: '‚õ≥' },
    { name: 'EQUIPO', icon: 'üë•' }
  ];

  // Sample products for each sport
  const products = {
    'F√öTBOL': [
      { id: 1, name: 'Camiseta de F√∫tbol Azul', price: '$45.000', image: '/Products/Soccer/Jerseys/Blue Soccer Jersey.png' },
      { id: 2, name: 'Camiseta de F√∫tbol Verde', price: '$45.000', image: '/Products/Soccer/Jerseys/A.png' },
      { id: 3, name: 'Camiseta de F√∫tbol Cl√°sica', price: '$42.000', image: '/Products/Soccer/Jerseys/B.png' },
      { id: 4, name: 'Camiseta de F√∫tbol Premium', price: '$48.000', image: '/Products/Soccer/Jerseys/2.png' },
      { id: 5, name: 'Camiseta de F√∫tbol Negra', price: '$45.000', image: '/Products/Soccer/Jerseys/AS.png' },
      { id: 6, name: 'Camiseta de F√∫tbol Roja', price: '$45.000', image: '/Products/Soccer/Jerseys/ASD.png' },
      { id: 7, name: 'Camiseta de F√∫tbol Deportiva', price: '$43.000', image: '/Products/Soccer/Jerseys/ASDF.png' },
      { id: 8, name: 'Camiseta de F√∫tbol Pro', price: '$47.000', image: '/Products/Soccer/Jerseys/ASDFG.png' },
      { id: 9, name: 'Camiseta de F√∫tbol Elite', price: '$49.000', image: '/Products/Soccer/Jerseys/ASDFGH.png' },
      { id: 10, name: 'Camiseta de F√∫tbol Especial', price: '$46.000', image: '/Products/Soccer/Jerseys/Bl.png' },
      { id: 11, name: 'Camiseta de F√∫tbol T√©cnica', price: '$44.000', image: '/Products/Soccer/Jerseys/Blu.png' },
      { id: 12, name: 'Camiseta de F√∫tbol Profesional', price: '$50.000', image: '/Products/Soccer/Jerseys/Blue S.png' }
    ],
    'B√ÅSQUETBOL': [
      { id: 5, name: 'Jersey de B√°squetbol Beauty Blue', price: '$50.000', image: '/Products/Basketball/beautyblu.png' },
      { id: 6, name: 'Jersey de B√°squetbol Negro', price: '$52.000', image: '/Products/Basketball/blaccc.png' },
      { id: 7, name: 'Jersey Black Mamba', price: '$55.000', image: '/Products/Basketball/black mamba.png' },
      { id: 8, name: 'Jersey Breakthrough', price: '$48.000', image: '/Products/Basketball/breakthrough.png' },
      { id: 9, name: 'Jersey Brown Premium', price: '$51.000', image: '/Products/Basketball/brownnn.png' },
      { id: 10, name: 'Jersey Cool Purple', price: '$53.000', image: '/Products/Basketball/cool purplll.png' },
      { id: 11, name: 'Jersey Dunnos', price: '$49.000', image: '/Products/Basketball/dunnos.png' },
      { id: 12, name: 'Jersey Dye', price: '$54.000', image: '/Products/Basketball/dye.png' },
      { id: 13, name: 'Jersey Elevate 2', price: '$50.000', image: '/Products/Basketball/elevate 2.png' },
      { id: 14, name: 'Jersey Elevate 3', price: '$50.000', image: '/Products/Basketball/elevate 3.png' },
      { id: 15, name: 'Jersey Elevate 5', price: '$50.000', image: '/Products/Basketball/elevate 5.png' },
      { id: 16, name: 'Jersey Jaggered', price: '$52.000', image: '/Products/Basketball/jaggered.png' }
    ],
    'VOLEIBOL': [
      { id: 9, name: 'Camiseta de Voleibol', price: '$40.000', image: '/placeholder-product.jpg' },
      { id: 10, name: 'Shorts de Voleibol', price: '$22.000', image: '/placeholder-product.jpg' },
      { id: 11, name: 'Rodilleras Profesionales', price: '$18.000', image: '/placeholder-product.jpg' },
      { id: 12, name: 'Kit Completo', price: '$70.000', image: '/placeholder-product.jpg' }
    ],
    'RUGBY': [
      { id: 13, name: 'Jersey de Rugby', price: '$55.000', image: '/placeholder-product.jpg' },
      { id: 14, name: 'Shorts de Rugby', price: '$35.000', image: '/placeholder-product.jpg' },
      { id: 15, name: 'Medias de Rugby', price: '$20.000', image: '/placeholder-product.jpg' },
      { id: 16, name: 'Conjunto Profesional', price: '$95.000', image: '/placeholder-product.jpg' }
    ],
    'GOLF': [
      { id: 17, name: 'Polo de Golf', price: '$48.000', image: '/placeholder-product.jpg' },
      { id: 18, name: 'Pantalones de Golf', price: '$65.000', image: '/placeholder-product.jpg' },
      { id: 19, name: 'Chaleco de Golf', price: '$42.000', image: '/placeholder-product.jpg' },
      { id: 20, name: 'Conjunto de Golf', price: '$120.000', image: '/placeholder-product.jpg' }
    ],
    'EQUIPO': [
      { id: 21, name: 'Uniforme Corporativo', price: '$60.000', image: '/placeholder-product.jpg' },
      { id: 22, name: 'Chaqueta de Equipo', price: '$85.000', image: '/placeholder-product.jpg' },
      { id: 23, name: 'Sudadera de Equipo', price: '$45.000', image: '/placeholder-product.jpg' },
      { id: 24, name: 'Conjunto Completo', price: '$150.000', image: '/placeholder-product.jpg' }
    ]
  };

  return (
    <div className="w-full min-h-screen bg-white">
      <div className="flex items-start justify-center pt-16">
        <div className="text-center max-w-6xl mx-auto px-4 w-full">
          <h1 className="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black text-black mb-6 sm:mb-8 leading-tight font-montserrat">
            <span className="text-[#e21c21]">
              UNIFORMES
            </span>
            <br />
            <span className="text-black">PROFESIONALES</span>
          </h1>

          <p className="text-base sm:text-lg md:text-xl text-gray-700 leading-relaxed mb-12 font-montserrat">
            Dise√±os √∫nicos, telas premium y entregas puntuales.
          </p>

          {/* Sports Selection Grid */}
          <div className="grid grid-cols-2 md:grid-cols-3 gap-4 max-w-4xl mx-auto mb-16">
            {sports.map((sport, index) => (
              <button
                key={index}
                onClick={() => setSelectedSport(sport.name)}
                className={`group relative bg-white border-2 rounded-xl p-6 hover:border-red-500 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${
                  selectedSport === sport.name ? 'border-red-500 shadow-lg' : 'border-gray-200'
                }`}
              >
                <div className="text-center">
                  <div className="text-4xl mb-3 group-hover:scale-110 transition-transform duration-300">
                    {sport.icon}
                  </div>
                  <h3 className={`text-lg font-semibold transition-colors duration-300 ${
                    selectedSport === sport.name ? 'text-red-600' : 'text-gray-800 group-hover:text-red-600'
                  }`}>
                    {sport.name}
                  </h3>
                </div>
              </button>
            ))}
          </div>

          {/* Products Grid - Shows when sport is selected */}
          {selectedSport && (
            <div className="w-full">
              <div className="flex items-center justify-between mb-8">
                <h2 className="text-xl md:text-2xl font-black text-black font-montserrat">
                  <span className="text-[#e21c21]">PRODUCTOS DE</span>{' '}
                  <span className="text-black">{selectedSport}</span>
                </h2>
                <button
                  onClick={() => setSelectedSport(null)}
                  className="text-gray-600 hover:text-[#e21c21] transition-colors duration-300 font-montserrat text-sm"
                >
                  ‚úï Cerrar
                </button>
              </div>

              <div className="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
                {products[selectedSport]?.map((product) => (
                  <div
                    key={product.id}
                    className="bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-red-500 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 group"
                  >
                    {/* Product Image */}
                    <div className="aspect-square bg-gray-100 rounded-lg mb-3 overflow-hidden relative">
                      {imageErrors.has(product.id) ? (
                        <div className="w-full h-full flex items-center justify-center">
                          <div className="text-3xl text-gray-400">üì∏</div>
                        </div>
                      ) : (
                        <Image
                          src={product.image}
                          alt={product.name}
                          fill
                          className="object-cover"
                          sizes="(max-width: 640px) 50vw, (max-width: 768px) 33vw, (max-width: 1024px) 25vw, 16vw"
                          priority={product.id <= 4}
                          loading={product.id <= 4 ? "eager" : "lazy"}
                          onError={() => handleImageError(product.id)}
                          placeholder="blur"
                          blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkrHB0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyzsssssss/9k="
                        />
                      )}
                    </div>

                    {/* Product Info */}
                    <div className="text-center space-y-2">
                      <h3 className="text-sm font-semibold text-gray-800 font-montserrat h-10 flex items-center justify-center">
                        {product.name}
                      </h3>
                      <p className="text-lg font-black text-[#e21c21] font-montserrat">
                        {product.price}
                      </p>
                      <button className="w-full bg-[#e21c21] text-white py-2 px-4 rounded-xl font-semibold hover:bg-black transition-colors duration-300 text-sm font-montserrat">
                        Ver Producto
                      </button>
                    </div>
                  </div>
                ))}
              </div>

              {/* Ver Todos Button */}
              <div className="mt-8 text-center">
                <button
                  onClick={() => window.location.href = `/productos/${encodeURIComponent(selectedSport.toLowerCase())}`}
                  className="bg-white border-2 border-[#e21c21] text-[#e21c21] px-8 py-3 rounded-xl font-semibold hover:bg-[#e21c21] hover:text-white transition-colors duration-300 font-montserrat"
                >
                  Ver Todos los Productos
                </button>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}